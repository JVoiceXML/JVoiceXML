<project name="JVoiceXML Run Script" default="run" basedir=".">
    <description>
This file provides targets to run and stop the voice browser.
  </description>

    <import file="build.xml" />

    <target name="-run-setup" depends="-setup">
        <path id="run.classpath">
            <path refid="project.classpath" />
            <fileset refid="loggings.lib" />
            <fileset refid="spring.lib"/>
            <pathelement location="${dist}/jvxml-client-text.jar"/>
        	<pathelement location="${dist}/jvxml-text.jar"/>
            <pathelement path="${build}" />
            <pathelement path="./config" />
        	<pathelement path="${config}" />
        </path>
    </target>

    <target name="run"
            description="Run the VoiceXML interpreter system test"
            depends="jar,-run-setup">
        <java classname="org.jvoicexml.systemtest.SystemTestMain"
              fork="true"
              maxmemory="256m">
            <jvmarg value="-Djava.util.logging.config.file=${config}/java-logging.properties" />
            <jvmarg value="-Djava.security.policy=${config}/jvoicexml.policy" />
            <classpath refid="run.classpath" />
        </java>
    </target>

    <target name="debug"
            description="Run the VoiceXML interpreter system test in debug mode"
            depends="jar,-run-setup">
        <java classname="org.jvoicexml.JVoiceXmlMain"
              fork="true"
              maxmemory="256m">
            <jvmarg value="-Djava.util.logging.config.file=${config}/java-logging.properties" />
            <jvmarg value="-Djava.security.policy=${config}/jvoicexml.policy" />
            <jvmarg value="-agentlib:jdwp=transport=dt_socket,server=y,address=12367" />
            <classpath refid="run.classpath" />
        </java>
    </target>
</project>
