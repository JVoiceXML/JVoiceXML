<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
	"http://www.springframework.org/dtd/spring-beans.dtd">

<!--
  - Configuration file for the JVoiceXML VoiceXML interpreter. 
  - Copyright (C) 2005-2007 JVoiceXML group - http://jvoicexml.sourceforge.net
  -
  - This library is free software; you can redistribute it and/or
  - modify it under the terms of the GNU Library General Public
  -  License as published by the Free Software Foundation; either
  - version 2 of the License, or (at your option) any later version.
  -
  - This library is distributed in the hope that it will be useful,
  - but WITHOUT ANY WARRANTY; without even the implied warranty of
  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  - Library General Public License for more details.
  -
  - You should have received a copy of the GNU Library General Public
  - License along with this library; if not, write to the Free Software
  - Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  -->

<beans>
	<!--
	  - JNDI support. 
	  -->
	<bean id="jndi" class="org.jvoicexml.jndi.JVoiceXmlJndiSupport">
		<property name="registry">
			<bean id="registry"
				class="org.jvoicexml.jndi.JVoiceXmlRegistry">
				<property name="port" value="1099"/>
			</bean>
		</property>
	</bean>

	<!--
	  - Document server with the configuration of all known strategies
	  - to handle URIs. 
	  -->
	<bean id="documentserver"
		class="org.jvoicexml.documentserver.JVoiceXmlDocumentServer">
		<property name="schemeStrategies">
			<list>
				<bean
					class="org.jvoicexml.documentserver.schemestrategy.MappedDocumentStrategy" />
				<bean
					class="org.jvoicexml.documentserver.schemestrategy.FileSchemeStrategy" />
				<bean
					class="org.jvoicexml.documentserver.schemestrategy.HttpSchemeStrategy" />
			</list>
		</property>
	</bean>

	<!--
	  - Grammar processor with all grammar identifiers and transformers from
	  - a source type into a target type. 
	  -->
	<bean id="grammarprocessor"
		class="org.jvoicexml.interpreter.grammar.JVoiceXmlGrammarProcessor">
		<!--
		  - Grammar identifiers to identify the supported grammar types.
		  -->
		<property name="grammaridentifier">
			<bean
				class="org.jvoicexml.interpreter.grammar.GrammarIdentifierCentral">
				<property name="identifier">
					<list>
						<bean
							class="org.jvoicexml.interpreter.grammar.identifier.SrgsXmlGrammarIdentifier" />
						<bean
							class="org.jvoicexml.interpreter.grammar.identifier.SrgsAbnfGrammarIdentifier" />
						<bean
							class="org.jvoicexml.interpreter.grammar.identifier.JsgfGrammarIdentifier" />
					</list>
				</property>
			</bean>
		</property>
		<!--
		  - Grammar transformers to transform grammars from one type into
		  - another.
		  -->
		<property name="grammartransformer">
			<bean
				class="org.jvoicexml.interpreter.grammar.GrammarTransformerCentral">
				<property name="transformer">
					<list>
						<bean
							class="org.jvoicexml.interpreter.grammar.transformer.SrgsXml2JsgfGrammarTransformer" />
						<bean
							class="org.jvoicexml.interpreter.grammar.transformer.Jsgf2JsgfGrammarTransformer" />
						<bean
							class="org.jvoicexml.interpreter.grammar.transformer.SrgsXml2SrgsXmlGrammarTransformer" />
					</list>
				</property>
			</bean>
		</property>
	</bean>

	<!--
	  - Implementation platform to handle recognition and speech synthesis. 
	  -->
	<bean id="implementationplatform"
		class="org.jvoicexml.implementation.JVoiceXmlImplementationPlatformFactory">
		<property name="synthesizedoutput">
			<list>
				<bean
					class="org.jvoicexml.implementation.jsapi10.jvxml.FreeTTSSynthesizedOutputFactory">
					<property name="instances" value="1"/>
					<property name="type" value="jsapi10"/>
					<property name="synthesizerModeDescriptorFactory">
						<bean class="org.jvoicexml.implementation.jsapi10.JVoiceXmlSynthesizerModeDescFactory">
							<property name="locale">
								<bean class="java.util.Locale">
									<constructor-arg value="en"/>
									<constructor-arg value="US"/>
								</bean>
							</property>
						</bean>
					</property>
 				</bean>
				<bean
					class="org.jvoicexml.implementation.jsapi10.jvxml.FreeTTSSynthesizedOutputFactory">
					<property name="instances" value="1"/>
					<property name="type" value="jsapi10-rtp"/>
					<property name="synthesizerModeDescriptorFactory">
						<bean class="org.jvoicexml.implementation.jsapi10.JVoiceXmlSynthesizerModeDescFactory">
							<property name="locale">
								<bean class="java.util.Locale">
									<constructor-arg value="en"/>
									<constructor-arg value="US"/>
								</bean>
							</property>
						</bean>
					</property>
					<property name="connectionhandler">
						<bean class="org.jvoicexml.implementation.jsapi10.jvxml.FreeTTSConnectionHandler"/>
					</property>
				</bean>
				<bean
					class="org.jvoicexml.implementation.text.TextSynthesizedOutputFactory">
					<property name="instances" value="1"/>
				</bean>
			</list>
		</property>
		<property name="fileoutput">
			<list>
				<bean
					class="org.jvoicexml.implementation.jsapi10.Jsapi10AudioFileOutputFactory">
					<property name="instances" value="1"/>
				</bean>
				<bean
					class="org.jvoicexml.implementation.jsapi10.jvxml.RtpAudioFileOutputFactory">
					<property name="instances" value="1"/>
				</bean>
				<bean
					class="org.jvoicexml.implementation.text.TextAudioFileOutputFactory">
					<property name="instances" value="1"/>
				</bean>
			</list>
		</property>
		<property name="spokeninput">
			<list>
				<bean
					class="org.jvoicexml.implementation.jsapi10.jvxml.Sphinx4SpokenInputFactory">
					<property name="type" value="jsapi10"/>
					<property name="instances" value="1"/>
					<property name="recognizerModeDescriptor">
						<bean class="org.jvoicexml.implementation.jsapi10.jvxml.Sphinx4RecognizerModeDesc"/>
					</property>
				</bean>
				<bean
					class="org.jvoicexml.implementation.text.TextSpokenInputFactory">
					<property name="instances" value="1"/>
				</bean>
			</list>
		</property>
		<property name="telephony">
			<list>
				<bean
					class="org.jvoicexml.implementation.DummyTelephonySupportFactory">
					<property name="instances" value="1"/>
				</bean>
				<bean
					class="org.jvoicexml.implementation.jtapi.JtapiCallControlFactory">
					<property name="instances" value="1"/>
				</bean>
			</list>
		</property>
		<!-- Uncomment if you want support for an external recognition 
		     listener. 
		<property name="externalRecognitionListener">
			<bean id="externalRecognitionListener"
				class="put your class name here"/>
		</property>
		 -->
	</bean>

	<!--
	  - Telephony support. 
	  -->
	<bean id="callmanager" class="org.jvoicexml.callmanager.jtapi.JtapiCallManager">
		<property name="providername" value="net.sourceforge.gjtapi.raw.sipprovider.SipProvider"/>
		<property name="applications">
			<list>
				<bean
					class="org.jvoicexml.callmanager.jtapi.JtapiConfiguredApplication">
					<property name="terminal" value="sip:jvoicexml@@sip.address@"/>
					<property name="uri" value="http://127.0.0.1:8080/helloworldservletdemo/JVoiceXML"/>
					<property name="port" value="@sip.port@"/>
					<property name="inputType" value="jsapi10"/>
					<property name="outputType" value="jsapi10-rtp"/>
				</bean>
			</list>
		</property>
	</bean>
</beans>
